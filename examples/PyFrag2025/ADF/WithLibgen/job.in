JOBSUB

#!/bin/bash
#SBATCH -N 1
#SBATCH -t 12:00:00
#SBATCH --ntasks-per-node=32
#SBATCH --partition=tc

echo "== Starting run at $(date)"
echo "== Job ID: ${SLURM_JOBID}"
echo "== Node list: ${SLURM_NODELIST}"
echo "== Submit dir. : ${SLURM_SUBMIT_DIR}"
echo "== Scratch dir. : ${TMPDIR}"

# TC
module load shared
module load ams/2025.103
export SCM_TMPDIR="/scratch/${SLURM_JOBID}"
srun mkdir -p ${SCM_TMPDIR}
srun chmod 733 ${SCM_TMPDIR}

# Snellius
# module load 2022
# module load AMS/2023.101-intelmpi
# module list

[postamble]
srun rm -rf ${SCM_TMPDIR}

JOBSUB END

AMS

Task SinglePoint

Engine ADF
  BASIS
   type TZ2P
   core none
  END

  Relativity
   level Scalar
  End

  SYMMETRY nosym

  XC
   Libxc HYB_GGA_XC_WB97X_D
  END

  NumericalQuality normal

  EPRINT
    SFO EIG OVL
  end

EndEngine

AMS END

PyFrag
name si-icf
coordfile $SLURM_SUBMIT_DIR/*xyz

frag1_indices  1-14 # Put here the atom indices of the first fragment (start with 1)
frag2_indices  15-19 # Put here the atom indices of the second fragment (start with 1)
frag1_energy   -2355.87 # Put here the (optimized) energy of the first fragment (in kcal/mol)
frag2_energy   -901.91 # Put here the (optimized) energy of the second fragment (in kcal/mol)

bondlength 5 15
log_level debug

orbitalenergy A frag1 25
orbitalenergy A frag1 24
orbitalenergy A frag1 23
orbitalenergy A frag1 19

orbitalenergy A frag2 44
orbitalenergy A frag2 43
orbitalenergy A frag2 42
orbitalenergy A frag2 41

population A frag1 25
population A frag1 24
population A frag1 23
population A frag1 19

population A frag2 44
population A frag2 43
population A frag2 42
population A frag2 41

overlap A frag1 19 A frag2 44
overlap A frag1 25 A frag2 43
overlap A frag1 25 A frag2 42
overlap A frag1 25 A frag2 41
overlap A frag1 24 A frag2 43
overlap A frag1 24 A frag2 42
overlap A frag1 24 A frag2 41
overlap A frag1 23 A frag2 43
overlap A frag1 23 A frag2 42
overlap A frag1 23 A frag2 41


PyFrag END




