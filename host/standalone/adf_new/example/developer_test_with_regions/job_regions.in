JOBSUB

#!/bin/bash
#SBATCH -N 1
#SBATCH -t 12:00:00
#SBATCH --ntasks-per-node=32
#SBATCH --partition=tc

# module load ams/2024.102

JOBSUB END

PyFrag
ircpath $SLURM_SUBMIT_DIR/*xyz
fragment  5
fragment  1 2 3 4 6
strain -89.21
strain -473.04
bondlength 1 5 0
bondlength 1 5 2.153


overlap frag1 HOMO frag2 HOMO
overlap frag1 HOMO frag2 LUMO
overlap frag1 LUMO frag2 HOMO

orbitalenergy frag1 HOMO
orbitalenergy frag1 LUMO
orbitalenergy frag2 HOMO
orbitalenergy frag2 LUMO

PyFrag END

# Note: the fragment and complex blocks are CASE-SENSITIVE (at the moment): "fragment" should be lower-case, and "EXTRA END" uppercase
# If you don't need to add EXTRA settings for the fragments and/or complex, feel free to remove these blocks.
fragment1 EXTRA

System
  Charge -1
End

Engine ADF
  Symmetry NoSym
EndEngine

fragment1 EXTRA END

fragment2 EXTRA

# This is the system block in which you specify the charge of the molecule
System
  Charge 0
End

# Sometimes, you want to specify a specific symmetry, spin polarization, fragment occupations etc. which you can put in the ADF engine block
Engine ADF
  Symmetry NoSym
EndEngine

fragment2 EXTRA END


complex EXTRA

System
  Charge -1
End

Engine ADF
# The following option causes the SFO (symmetriced fragment orbitals) overlap matrix to be printed for solely the complex
  eprint
    sfo EIG OVL
  End
EndEngine

complex EXTRA END

AMS

Task SinglePoint

Engine ADF
  basis
    core None
    type AUG/ATZ2P
    PerRegion Region=I Type=QZ4P
    PerRegion Region=rest Type=AUG/ATZ2P
  End

  numericalquality VeryGood

  xc
    gga OLYP
  End

  Symmetry NoSym

  # Use this block for open-shell systems, and call the pyfrag with "pyfrag -x new_open job.in"
  # Spinpolarization 0
  # UnrestrictedFragments
  # Unrestricted Yes/No

EndEngine

AMS END

