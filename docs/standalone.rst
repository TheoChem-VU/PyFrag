Simple Pyfrag Calculation
=========================

The user may choose to only install the part of the program needed to perform the Activation Strain Analysis (ASA) based on Activation Strain Model (ASM). The ASA can be performed using a variety of quantum chemical software packages, including: ADF, Gaussian, Orca, and Turbomole. The user must only provide a series of coordinate from the reaction path. An input sample is provided in the standalone_ example folder for either ADF_, Gaussian_, Orca_ and Turbomole_.

ADF
---

The basic PyFrag 2019 input for the Activation Strain Analysis (ASA) using ADF is similar to the previous input example, except the coordinate section: ::

   JOBSUB

   #!/bin/bash
   #SBATCH -J NNC
   #SBATCH -N 1
   #SBATCH -t 24:00:00
   #SBATCH --ntasks-per-node=24
   #SBATCH --partition=normal
   #SBATCH --output=%job.stdout
   #SBATCH --error=%job.stdout
   export NSCM=24

   JOBSUB END

   PyFrag

   ircpath /home/x2sun/pyfragnew/test/molecule.xyz
   fragment  2
   fragment  1 3 4 5 6
   strain    0
   strain   -554.09
   bondlength 1 6  1.09

   PyFrag END

   ADF

   basis
   type TZ2P
   core Small
   end

   xc
   gga OPBE
   end

   relativistic SCALAR ZORA

   scf
   iterations 299
   converge 0.00001
   mixing 0.20
   end

   numericalquality verygood

   charge 0
   symmetry auto

   ADF END

The only difference compared with the previous job input is that the user must provide the path to a series of coordinates. For additional specifications, the user can read the previous page. The user can specify the filename of a linear transit (LT), scan, IRC, or a simple text output file you wish to analyze. Note: When using a TAPE21, the file should have the .t21 extension. The user can specify two output files for an IRC TAPE21 (backward and forward). A text file containing coordinates of an IRC calculation is also acceptable, for example, a text file generated by ADFmovie or Gaussian. ::

   ircpath path/filename.xyz
   irct21 path/filename.t21
   lt path/filename.t21

To submit a job, create a directory and generate a input file and run the following command to submit a job:

``pyfrag job.in``

If more terms needed to be printed, user can simply re-run the job as long as the plams directory exists.
During the process, PyFrag just extracts the new information from the previous result without actually doing new calculation.
In order to do that, the path to the plams directory should be specified in the job file in the PyFrag section, such as: ::

   PyFrag

   restartjob /path/to/plams/directory

   ircpath /home/x2sun/pyfragnew/test/molecule.xyz
   fragment  2
   fragment  1 3 4 5 6
   strain    0
   strain   -554.09
   bondlength 1 6  1.09

   PyFrag END

To submit a job, create a directory and generate a input file and run the following command to submit a job:

``pyfrag job.in``


Gaussian
--------

The basic PyFrag 2019 input for the Activation Strain Analysis (ASA) using Gaussian is as follows: ::

   INPUT_SPECS
   type = IRC
   output file = Ethylene-forward.amv

   frag1 = C4H6
   1
   2
   3
   4
   5
   6
   7
   8
   13
   14
   end frag1
   frag2 = C2H4
   9
   10
   11
   12
   15
   16
   end frag2

   print bond 1 9 1.384
   print strain frag1  1000
   print strain frag2  2000

   END INPUT_SPECS


   "g09" <<eor

   %nprocs=16
   %mem=14000mb
   #OPBE/6-31G*

   Comments

   0 1
   END INPUT


The first section between INPUT_SPECS and END INPUT_SPECS is used to define fragment and provide coordinate path. The second section between END INPUT_SPECS and END INPUT is used to do Gaussian parameter set up.

User can also specify different parameters for fragment 1, fragment 2 and tatol complex in the extra section such as between EXTRA frag1 and END EXTRA frag1 using input example as below: ::

   INPUT_SPECS
   type = IRC
   output file = Ethylene-forward.amv
   fa1_name = complex
   frag1 = C4H6
   1.C
   2.H
   3.C
   4.H
   5.C
   6.H
   7.C
   8.H
   13.H
   14.H
   end frag1
   frag2 = C2H4
   9.C
   10.C
   11.H
   12.H
   15.H
   16.H
   end frag2   

   print bond 1 9 1.384
   print strain frag1  1000
   print strain frag2  2000   

   END INPUT_SPECS   

   END INPUT   
   

   EXTRA frag1
   "g09" <<eor 

   %nprocs=16
   %mem=14000mb
   #OPBE/6-31G* -1   

   Comments    

   0 1
   END EXTRA frag1   
   

   EXTRA frag2
   "g09" <<eor 

   %nprocs=16
   %mem=14000mb
   #OPBE/6-31G* 0 

   Comments 

   0 1
   END EXTRA frag2   
   

   EXTRA fa 

   "g09" <<eor 

   %nprocs=16
   %mem=14000mb
   #OPBE/6-31G* -1   

   Comments 

   0 1
   END EXTRA fa



To submit a job, create a directory and generate a input file and run the following command to submit a job:

``pyfrag -x gaussian job.in``


Orca
----
The basic PyFrag 2019 input for the Activation Strain Analysis (ASA) using Orca is as follows: ::

   INPUT_SPECS
   type = IRC
   output file = irc.amv
   frag1 = H2
   1
   2
   end frag1
   frag2 = H2
   3
   4
   end frag2

   print bond 1 3 1.00
   print strain frag1  100
   print strain frag2  200

   END INPUT_SPECS

   ! SP B3LYP 6-31G(d)

   * xyz 0 1
   END INPUT

The first section between INPUT_SPECS and END INPUT_SPECS is used to define fragment and provide coordinate path. The second section between END INPUT_SPECS and END INPUT is used to do Orca parameter set up. To submit a job, create a directory and generate a input file and run the following command to submit a job:

``pyfrag -x orca job.in``


Turbomole
---------
The basic PyFrag 2019 input for the Activation Strain Analysis (ASA) using Turbomole is as follows: ::

   INPUT_SPECS
   type = IRC
   output file = irc.amv
   frag1 = pd
   1
   2
   end frag1
   frag2 = cc
   3
   4
   end frag2

   print bond 1 3 1.00
   print strain frag1  100
   print strain frag2  200

   END INPUT_SPECS
   %method
   ENRGY :: b-p/SVP [gen_stat=1,scf_msil=99,&
                     scf_grid=m4]
   %charge
   0
   %coord
   %end
   END INPUT

The first section between INPUT_SPECS and END INPUT_SPECS is used to define fragment and provide coordinate path. The second section between END INPUT_SPECS and END INPUT is used to do Turbomole parameter set up. To submit a job, create a directory and generate a input file and run the following command to submit a job:

``pyfrag -x turbomole job.in``


.. _standalone: https://github.com/sunxb05/PyFrag/tree/master/host/standalone
.. _installation: https://pyfragdocument.readthedocs.io/en/latest/install.html
.. _Gaussian:   http://gaussian.com
.. _ADF:       https://www.scm.com
.. _Orca:      http://www.orcahome.de/orcanews.htm
.. _Turbomole: http://www.turbomole.com
